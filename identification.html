<!DOCTYPE html>
<html>
    <head>
        <title>Identify The Animals</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script>
            var urlParams = new URLSearchParams(location.search);
            var name = "";
            var image = ""
            if (urlParams.has('image') && urlParams.has('name')) {
                image = urlParams.get('image');
                name = urlParams.get('name');
            }

            function disName(){
                document.getElementById('name').innerHTML = "Logged in as: <b>"+name+"</b>";
            }

            function vote() {
                const endDate = new Date();
                const spentTime = endDate.getTime() - startDate.getTime();
                elapsedTime += spentTime;
                /*
                passes photo, vote, name, and time to the lambda function
                returns the next pic which will then be passed to the next page using url parameters

                lambda function:
                    will change photo (probably by just getting the next photo) then store that photo's id
                    add elapsed time to current elapsed time in database
                    store vote with picture
                */
               
               window.location = "C:\Users\Killian Vetter\Documents\Four Mile Run Eagle Scout\identification.html?name="+name+"&image="+image;
            }

            // track time on page
            var startDate = new Date();
            var elapsedTime = 0;

            const focus = function() {
                startDate = new Date();
            };

            const blur = function() {
                const endDate = new Date();
                const spentTime = endDate.getTime() - startDate.getTime();
                elapsedTime += spentTime;
            };

            window.addEventListener('focus', focus);
            window.addEventListener('blur', blur);
        </script>
    </head>
    <body onload="disName()">
        <h1 style="top:0px;position:fixed;">What animal is in the picture below?</h1> <br><br>
        <div id = 'img'></div>
        <br><br>
        <div id = 'form'>
            <form class = 'form'>
                <table>
                    <tr>
                        <td>
                            <input type = 'checkbox' class = 'check' id = 'deer' value = 'Deer'>
                            <label for='deer'>Deer</label>
                        </td>
                        <td>
                        <input type = 'checkbox' class = 'check' id = 'nothing' value = 'Nothing'>
                        <label for='nothing'>Nothing</label>
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <input type = 'checkbox' class = 'check' id = 'fox' value = 'Fox'>
                            <label for='fox'>Fox</label>
                        </td>
                        <td>
                            <input type = 'checkbox' class = 'check' id='unsure' value = 'Unsure'>
                            <label for='unsure'>Unsure</label>
                        </td>
                    </tr>
                </table>
                <br>
                <input type='submit' value="Submit">
            </form>
        </div>
        <br><br><br>
        <a href='thanks.html'><button>I'm Done</button></a>
        <p id='name'></p>
    </body>
</html>